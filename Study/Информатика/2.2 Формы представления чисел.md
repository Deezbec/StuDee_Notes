Разрядная сетка - множество двоичных разрядов, выделяемых в пямяти компьютера для изображения чисел
таблица 1*m от n-1 до 0, разделяется на байты

Форма представления чисел - вариант распределения разрядов имеющейся разрядной сетки между отдельными структурными элементами(полями) в записи числа

+ Форма
	+ C фиксированной точкой
		+ [[Формы с фиксированной точкой#С фиксированой точкой справа от младешго разряда|справа от младшего разряда]]
		+ [[Формы с фиксированной точкой#С фиксированой точкой посередине|Где-то в середине сетки]]
		+ [[Формы с фиксированной точкой#С фиксированой точкой слева от младешго разряда|Слева от старшего разряда]]
	+ C плавающей точкой

---


### Нормализованный вид. Общая идея

Для  `$0.000101_(2пр)$`

|ЗП|ЗМ|Порядок|Мантисса|
|-|-|-|-|
|0|0|000|000101|
|1|0|001|001010|
|1|0|010|010100|
|1|0|011|101000|
`$0.000101_2 = 0.101_2 \* 2_10^(-3)$`
Нормализованный вид - это способ избежать множественности представлений. Число нормализованное, если в старшем разряде после запятой стоит значащая цифра

`$0.000101_2 = 0.101_2 \* 2_10^(-3)$`
из ненормализованного вида в нормализованный
зп зм порядок мантисса
1 0 011 101000


### Выполнение арифметических операций
1. + -  
    выравнивание порядка  
    порядок числа меньшего по модулю другого увеличивается в сторону проядка большего по модулю числа п мантисса меншьшего по модулю чилса сдвигается на соответствеющее количество разрядов вправо т е уменьшается в соотв кол-во раз 
    
2. *  
    Порядки складываются, мантиссы перемножаются
    
3. /  
    из порядка делимого вычитаестя порядок делителя , мантисса делится на мантиссу делителя
    

В конце арифметическх операций при необходимости производится нормализация результата

примеры с 0.1 _2^5 and 0.1_ 2^3  
0.100 _2^5 + 0.001_ 2^5 = 0.101 _2^5  
0.100_ 2^5 - 0.001 _2^5 = 0.011_ 2^5 = 0.11 _2^4  
0.1_ 2^5 _0.1_ 2^3 = 0.01 _2^8 = 0.1_ 2^7  
Нормалицзация  
0.1 _2^5 / 0.1_ 2^3




Представление порядка для нормализованнх чисел
Порядок записывается в симметричном коде со смещением, чтобы порядок был всегда неотрицательным. это упрощает выполнеиние операций сравнения и выравнивания порядков, и избавляет от знакового разряда порядка в структуре числа.

Истинный порядок может быть как положительным так и отрицательным
Минимальное нормализованное число имеет поряок равнй 1 в коде со смещением
Максимальное нормализованное число имеет порядок 2^k - 2 в коде сосмещением, где к - количество разрядов в поле порядка.

Представление порядка для ненормализованных чисел
Если в поле порядка все разряды равны нулю, следовательно число ненормализованное
Тогда ист порядок - 
1 минус смещение порядка для нормализованного числа, т.е. оно равно истинному порядку минимального (по модулю) нормализованного числа.

Таблица фото

|Тип числа|знак|Порядок|Мантисса|
|-|-|-|-|
|Нормализованное число|+-|0<E<max, где Е значение порядка|Любой набор битов|
|Ненормализованное число|+-|0|любой ненулевой набор битов|
|Ноль|+-|0||
|Бесконечность|+-|Все 1 (max)||
|Не число|+-|Все 1 (max)||


минимальное - в мантиссе последняя 1
меньшее по модулю числа будут восприниматься как машинный ноль для данного формата

Проблема нарушнеия непрерывности представления чисел на примере формата ПТ (плав точка)
1_10 < z < 1.0009765625 не используются т.к. невозможно подвинуть значащую единицу в мантиссу, даже при минимальном смещенном порядке

Ограничения точности
+ целые
	+ 0-2048 - передаются как есть \[\]
	+ 2049-4096 - к ближ четному целому \[\]0
	+ 4097-8192 - до ближайшего целово, кратного 4 \[\]00
	+ 8193-16384 - до целого кратного 8  \[\]000
	+ 16385-32768 - до целого кратношго 16  \[\]0000
	+ 32769-65535 - до целого кратного 32  \[\]00000
Округление до ближайшего целого кратного количеству непоместившихся знаков + 1

Если расстояние до обеих границ одинаковое, то округление происходит к ближайшему четному числу

## Машинный ноль
это числовое значение с таким отрицательным порядком, которое воспринимается машиной как ноль.
Например, для числа одинарной точности (тип single)
`$-2^(-150)$` до `$2^(150) = 0$` машинный
добавить в [[000 Тетрадь для кр]]

## Алгоритм перевода вещественного числа в формат IEEE 754
1) Перевести число из системы к в двоичную
2) Нормализовать число согласно требованиям стандарта и определить истинный порядок чила
3) Выбрать один из форматов стандарта 754
4) Определить, возможно ли это число сохранить нормализованным в выбранном формате ( если нет, то лучше выбрать другой формат или придется записывать число как ненормализованное в выбранном формате)
5) Рассчитать смещенный порядок числа
6) РАзместить знак мантиссы, смещенный порядок и мантиссу без целой части в соответствующие поля разрядной сетки
7) Если нужно, ти привести запись числа к 16-ному виду

## Обратный алгоритм (из формата 754)
1) Привести запись числа из 16ого вида к 2ому
2) Выделить содержимое полей (знака, порядк, мантиссы) в соответствии используемым форматом
3) По модержимому порядка и мантиссы определить категорию, к которой прнадлежит двоичная запись (нормализованное, ненормализованное число, бесконечность, ноль, не число)
4) Если число нормалихованное, то
+ вычислить истинный порядок
+ обраховать полную запись мантиссы, объеднив подразумеваемую целую часть, равную 1, с дробной
+ произвести умножение мантиссы на 2 в степени порядка и перевести результат в систему к
4) Если числоа ненормализованное, то
+ истинный порядок равен минимально возможному порядку для нормализованного числа в рассматриваемом формате
+ образовать полную запись мантиссы, объединив подразумеваемую целую часть, равную 0, с дробной
+ произвести умножение мантиссы на 2 в степени порядка и перевести результат в систему к

пример перевода, сюда писать не буду, посмотреть в методичке

## выполнение арифметических операций над числами в стандарте 754


в половинной точности 324_10 + 123_10
324 в половинной - 0 10111 0100010000
123 в половинной - 0 10101 1110110000

смещение порядка в сторону большего по модулю - так число 123 надо из 10101 в 10111 т.е. перенести на 2 вправо 1.1110110000 -> 0.0111101100

далее сложить мантиссы и нормализовать результат
1.0100010000 + 0.0111101100  = 1.1011111100
0 10111 1011111100 - получившееся число
0101 1110 1111 1100 - 5 E F C

нормализованную сумму по всем правилам перевести в нужную точность (может понадобится нормализация - передвижение ",")

умножение
порядки складваются с минусом одной из постоянных смещенного порядка (15 в половинной), мантиссы перемножаются(умножитель), результат нормализуется

деление
324 - 123
порядок делителя выесить из порядка делимого, поделить мантиссы, нормализовать результат 